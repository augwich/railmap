<!DOCTYPE html>
<html>
<head>
	<meta charset=UTF-8>
	<title>RAILMAP.xyz</title>
	<link rel="author" type="text/plain" href="humans.txt">
	<meta name="description" content="A map of all passenger rail (Amtrak, Commuter, Light Rail, Subway, etc.) networks in the United States.">
	<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
	<meta property="og:title" content="US Passenger Rail Map">
	<meta property="og:image" content="http://www.railmap.xyz/thumbnail.png">
	<meta property="og:site_name" content="RAILMAP.xyz">
	<link rel="stylesheet" type="text/css" href="index.css">
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css">

	<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
	<link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css' rel='stylesheet' />

	<style>
		#map {position:absolute; width:100%; margin-top:40px }
	</style>

</head>

<body>
	<div class="ui fixed inverted blue menu">
		<div class="ui container">
			<a href="railmap.xyz" class="header active item">
				RAILMAP.xyz
			</a>
			<div class="ui simple dropdown item">
				About
				<i class="dropdown icon"></i>
				<div class="menu">
					<a href="faq.html" class="item" target="_blank">
						FAQ
					</a>
					<div class="divider"></div>
					<p class="disabled item">
						<em>Current Version: 0.11</em>
					</p>
				</div>
			</div>
			<div class="ui simple dropdown item">
				Contribute
				<i class="dropdown icon"></i>
				<div class="menu">
					<a href="#" class="item" data-tooltip="To report an issue, please visit the roadmap below" data-position="right center">
						Report an Issue
					</a>
					<div class="divider"></div>
					<a href="https://trello.com/b/GinKUKvq/usa-rail-project" class="item" target="_blank">
						Roadmap
					</a>
					<a href="https://github.com/augwich/railmap/tree/master/Data" class="item" target="_blank">
						Dataset
					</a>
				</div>
			</div>
			
			<div class="right menu">
				<a href="#" class="item" data-tooltip="Click/Tap on any feature to view additional information" data-position="bottom right">
					How To Use
				</a>
			</div>
		</div>
	</div>

<!-- 	<div class="ui container">
		<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
		tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
		quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
		consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
		cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
		proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
	</div> -->

	<div>
		<div id="map"></div>
		<script type="text/javascript">
			//define access token
			mapboxgl.accessToken = 'pk.eyJ1IjoiYXVnd2ljaCIsImEiOiJjamZyYmcyM3Axems3MzNwZWxpM2w2Z285In0.HxvN-GHjGBnR9usto_s1SQ';

			//create map
			const map = new mapboxgl.Map({
				container: 'map',
				style: 'mapbox://styles/augwich/cju6db6xg1btp1fqlv1bw81xi',
				center: [-73.999, 40.723],
				zoom: 12.5
			});

			//add nav controls
			map.addControl(new mapboxgl.NavigationControl(), 'top-left');

			//add geolocation
			map.addControl(new mapboxgl.GeolocateControl({
			    positionOptions: {
			        enableHighAccuracy: true
			    },
			    trackUserLocation: true
			}), 'top-left');

			// When a click event occurs on a feature in the places layer, open a popup at the
			// location of the feature, with description HTML from its properties.
			map.on('click', 'Stations Primary_MA - Multi System', function (e) {
				var coordinates = e.features[0].geometry.coordinates.slice();
				var description = e.features[0].properties.Name + "\n" + e.features[0].properties.City;
				 
				// Ensure that if the map is zoomed out such that multiple
				// copies of the feature are visible, the popup appears
				// over the copy being pointed to.
				while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
					coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
				}
				 
				new mapboxgl.Popup()
					.setLngLat(coordinates)
					.setHTML(description)
					.addTo(map);
			});
			 
			// Change the cursor to a pointer when the mouse is over the places layer.
			map.on('mouseenter', 'Stations Primary_MA - Multi System', function () {
				map.getCanvas().style.cursor = 'pointer';
			});
			 
			// Change it back to a pointer when it leaves.
			map.on('mouseleave', 'Stations Primary_MA - Multi System', function () {
				map.getCanvas().style.cursor = '';
			});

		</script>
	</div>


	

	
	<!-- <div class="map-overlay" id="features">
		<h2>U.S. Passenger Rail Map</h2>
		<p>A map showing all the current passenger rail networks in the US (or it will be, when it's finished).</p>
		<h3>What Is This Exactly?</h3>
		<p>Head on over to the <a href="faq.html" target="_blank">FAQ</a> for more information</p>
		<p><strong>This site (and map) is very much under construction.</strong> Things may be broken/wonky/generally unfinished. You can view the map and website's current progress <a href="https://trello.com/b/GinKUKvq" target="_blank">on the Trello Board.</a></p>
		<h3>Got a Suggestion or Comment?</h3>
		<p>Post it <a href="https://trello.com/c/DvDpT6WP" target="_blank">here</a>.</p>
		<br>
		<p><strong>Current Working Map Version:</strong></p>
		<p><em><strong>0.11</strong> // Last Updated April 2019</em></p>
	</div>
	<div class="map-overlay" id="legend"></div> -->

	

	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.js"></script>

	<!-- Matomo -->
<script type="text/javascript">
  var _paq = _paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//www.railmap.xyz/analytics/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', '1']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->

</body>	